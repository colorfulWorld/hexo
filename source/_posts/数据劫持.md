---
title: 数据劫持
date: 2017-11-06 09:23:22
categories: 数据劫持
tags:
---
在如今的MVVM 的框架中，比如angular、vue、regular、vue、react 等等，它们最大的优点就是可以实现数据绑定，它们实现的原理也基本上是脏检查、观察者机制、封装属性访问器。

<!--more-->

## 数据劫持
Object.defineProperty()来劫持对象属性的setter和getter操作，在数据变动时做你想要做的事情。
```javascript
var data = {
    name:'lhl'
}

Object.keys(data).forEach(function(key){
    Object.defineProperty(data,key,{
        enumerable:true,
        configurable:true,
        get:function(){
            console.log('get');
        },
        set:function(){
            console.log('监听到数据发生了变化');
        }
    })
})；
data.name //控制台会打印出 “get”
data.name = 'hxx' //控制台会打印出 "监听到数据发生了变化"
```
## 监听对象属性的变化

